# API V1

## Overview

#### Introduction

The Sipcentric API, based around REST, allows users to interact with core features and information on the Sipcentric platform.

All resource URIs referenced in this documentation have the following base:
```
http://pbx.sipcentric.com/api/v1
```

#### Limits

To prevent individual applications from degrading the overall user experience, we limit the number of requests that can be made in any **60 minute** window to **1200 per user**.

This limit is not intended to restrict your creativity in any way, so if you need more please email support@sipcentric.com detailing your requirements. However, you are encouraged to cache information locally, wherever possible, and to design your application in a way which avoids unnecessary or repeat requests.

You can see your current status by checking the HTTP headers included in each response from us:

- X-RateLimit-Limit: the number of requests allowed per 60 minute window
- X-RateLimit-Remaining: the number of requests left for the 60 minute window
- X-RateLimit-Reset: the number of seconds before next reset

For example:
```
X-RateLimit-Limit: 1200
X-RateLimit-Remaining: 11
```

#### HTTP Methods

Instead of defining its own, arbitrary methods, the Sipcentric API utilizes four standard HTTP methods for interaction with all resources as follows:

##### GET

*Retrieving* a representation of a resource is as easy as GETting its URI. A simple way to test this is to type the URI of the desired resource into the address bar of your web browser.

##### POST

The POST method is used for *creating* resources. The representation of the object to be created should be contained within the request body, and the **Content-Type** header should be set according to the format you are sending, e.g. `application/xml` or `application/json`. See [Response Formats](#response-formats) for the formats we can accept.

##### PUT

You should use the PUT method to *update* or *modify* resources. A representation of the object and its updated properties should be included in the body, and the **Content-Type** header set according to the format of the representation you are sending. See [Response Formats](#response-formats) for the formats we can accept.

##### DELETE

Finally, where supported, resources may be *removed* using the DELETE method. Please be careful though, as deleted resources cannot be restored afterwards!

##### Method Overloading

Not all HTTP libraries support the PUT and DELETE methods. However, it is possible to achieve the same outcome by using POST and including a **_method** query parameter in the request URL, with a value of either PUT or DELETE.For example, take the following DELETE request:

```
DELETE /customers/8425/numbers/44675
```

If your chosen library only supports GET or POST, this request can easily be simulated as follows:

```
POST /customers/8425/numbers/44675?_method=DELETE
```

#### Authentication

Authentication to the the Sipcentric API occurs via [HTTP Basic Authentication](http://en.wikipedia.org/wiki/Basic_authentication_scheme), with the same credentials as you would use to login to the web portal. Your credentials should be provided with every request.

Most HTTP libraries will handle Basic Authentication details automatically. To do it manually, include an Authorization header with a value of “Basic <credentials>” in every request, where “credentials” is a Base64-encoded version of the string username:password. For example:

```
Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==
```

As all Sipcentric accounts can have unlimited users, you may want to create a user specifically for the API, or for a program that uses the API.

Users must authenticate at one of three levels:

- Extension User
- Company Admin
- Reseller

Company Admin and Reseller accounts are both able to access all resources on all accounts that they have access to. Extension user's access is detailed below:

| Resource          | Access                                    |  
| --------          | ------                                    |  
| customers         | GET own                                   |  
| recordings        | None                                      |  
| phoneBook         | Full access                               |  
| timeIntervals     | GET all                                   |  
| endpoints         | GET own                                   |  
| phoneNumbers      | GET all                                   |  
| sms               | Send sms                                  |  
| creditStatus      | None                                      |  
| calls             | POST to originate call from own extension |  
| sounds            | GET all                                   |  
| outgoingCallerIds | GET all                                   |  

Authentication is currently required for all resources, and all API requests should be made over HTTPS, rather than over HTTP.

#### Request Formats

Query strings have several common parameters that can be used with any resource. Query string parameters are added by appending them to the query URI with a question mark `?`, subsequent query parameters are then added using an ampersand `&` as in the example below.


/customers/me/calls.json?pageSize=2&page=1

Should include accept header



```
https://pbx.sipcentric.com/api/v1/customers/me/sms?pageSize=2&page=1
```

| Common Query Parameters | Type    | Description                                       |  
| ----------------------- | ----    | -----------                                       |  
| `pageSize`              | Integer | The number of items to include per page (max 200) |  
| `page`                  | Integer | The page number to return                         |  


#### Response Formats

We generally send (and receive) representations of objects in [JSON](http://en.wikipedia.org/wiki/JSON). There may be exceptions (in the case of sound files, for example), but these will be highlighted in the documentation specific to those resources.

All requests should include the **Accept** header, which we will then evaluate and, where possible, return a representation according to your preferred choice. For example:

```
Accept: application/json
```

All responses will include a HTTP status code in the response. Some of the most common status codes that requests may return, and their definitions, are listed below.

| HTTP Status Codes          | Type               | Description                                                                                           |  
| -----------------          | ----               | -----------                                                                                           |  
| `200`                      | Ok                 | Ok                                                                                                    |  
| `201`                      | Created            | Resource created successfully                                                                         |  
| `204`                      | Deleted            | Resource deleted successfully                                                                         |  
| `400`                      | Bad Request        | Check your request, possible missing parameter                                                        |  
| `401`                      | Unauthorized       | Authentication failed, check credentials                                                              |  
| `404`                      | Not Found          | The requested item doesn't exist                                                                      |  
| `405`                      | Method Not Allowed | The specified resource does not support this method                                                   |  
| `429`                      | Too Many Requests  | Request limit reached for the current time window                                                     |  
| `500`, `502`, `503`, `504` | Server Error       | The server has responded with an error. If the problem persists please contact support@sipcentric.com |  


#### Resources Structure

(pagination, navigation)

#### Object Formatting

(dates, numbers)


## Customer Resources

#### Customers

##### List customers

The root resource located at https://pbx.sipcentric.com/api/v1/customers lists all customers that the user has access to on the account. When authenticated as an extension user, or a company admin, this will only return their own customer account, however when authenticated as a reseller all customer accounts that that reseller has access to will be returned.

`GET /customers`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers?pageSize=1&page=1
```


```response
HTTP/1.1 200 OK

{
  "totalItems": 1,
  "pageSize": 1,
  "page": 1,
  "items": [
    {
      "type": "customer",
      "uri": "https://pbx.sipcentric.com/api/v1/customers/25",
      "created" : "2014-03-10T13:37:00.000+0000",
      "company": "Bloggs co",
      "firstName": "Fred",
      "lastName": "Bloggs",
      "telephone": "07557000000",
      "email": "contact@fredbloggs.com",
      "address1": "60 Cleveland St",
      "address2": "Fitzrovia",
      "city": "London",
      "postcode": "W1T 4JZ"
    }
  ]
}
```


##### Get customer

Returns a single customer given the customer ID, providing the user is authenticated to allow access to that customer. The special customer ID of `me` can also be used to return only the customer account that you are authenticated to.

`GET /customers/{customerId}`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/25
```


```response
HTTP/1.1 200 OK

{
  "type": "customer",
  "uri": "https://pbx.sipcentric.com/api/v1/customers/25",
  "created" : "2014-03-10T13:37:00.000+0000",
  "company": "Bloggs co",
  "firstName": "Fred",
  "lastName": "Bloggs",
  "telephone": "07557000000",
  "email": "contact@fredbloggs.com",
  "address1": "60 Cleveland St",
  "address2": "Fitzrovia",
  "city": "London",
  "postcode": "W1T 4JZ",
  "links": {
    "callBundles" : "https://pbx.sipcentric.com/api/v1/customers/me/callbundles",
    "recordings": "https://pbx.sipcentric.com/api/v1/customers/me/recordings",
    "phoneBook": "https://pbx.sipcentric.com/api/v1/customers/me/phonebook",
    "timeIntervals": "https://pbx.sipcentric.com/api/v1/customers/me/timeintervals",
    "endpoints": "https://pbx.sipcentric.com/api/v1/customers/me/endpoints",
    "phoneNumbers": "https://pbx.sipcentric.com/api/v1/customers/me/phonenumbers",
    "sms": "https://pbx.sipcentric.com/api/v1/customers/me/sms",
    "creditStatus": "https://pbx.sipcentric.com/api/v1/customers/me/creditstatus",
    "calls": "https://pbx.sipcentric.com/api/v1/customers/me/calls",
    "sounds": "https://pbx.sipcentric.com/api/v1/customers/me/sounds",
    "outgoingCallerIds": "https://pbx.sipcentric.com/api/v1/customers/me/outgoingcallerids"
  }
}
```


#### Phone Book

| Resource Information           |                                   |  
| --------------------           | ---                               |  
| Rate Limited?                  | Yes                               |  
| Requests per rate limit window | 1200/hour                         |  
| Authentication                 | Basic Auth                        |  
| Payload Type(s)                | json                              |  
| HTTP Method(s)                 | GET -> POST -> DELETE -> PUT      |  

The phonebook resource, located at `/phonebook`, allows users to read and organize an account's shared phone book, each entry in which is represented by a `phonebookentry`. A `phonebookentry` can be created, read, updated, and deleted from this resource. When creating or updating a `phonebookentry`, a representation of the new `phonebookentry` must be included with the request.

```exampleRepresentation
{
  "type" : "phonebookentry",
  "uri" : "https://pbx.sipcentric.com/api/v1/customers/5/phonebook/773",
  "created" : "2014-03-10T13:38:00.000+0000",
  "name" : "Sipcentric",
  "phoneNumber" : "01212854400",
  "speedDial" : 5
}
```

| Properties     | Type    | Requirement | Description                                            |  
| -------------- | ----    | ----------- | -----------                                            |  
| `type`         | String  | Required    | Describes the type of resource                         |  
| `uri`          | String  | Read Only   | Unique URI for each resource                           |  
| `created`      | String  | Read Only   | Time that the resource was created in ISO8601 format   |  
| `name`         | String  | Required    | Name of phonebook entry                                |  
| `phoneNumber`  | String  | Required    | Phone number of phonebook entry                        |  
| `speedDial`    | Integer | Optional    | Up to four digit speed-dial number for phonebook entry |  


##### List phone book entries

`GET /phonebook`

GETting to the `/phonebook` list resource will return a list of each `phonebookentry` on the account.

```
GET https://pbx.sipcentric.com/api/v1/customers/me/phonebook?pageSize=2&page=1
```

```response
HTTP/1.1 200 OK

{
  "totalItems" : 18,
  "pageSize" : 2,
  "page" : 1,
  "items" : [ 
    {
      "type" : "phonebookentry",
      "uri" : "https://pbx.sipcentric.com/api/v1/customers/25/phonebook/716",
      "created" : "2014-03-10T13:37:00.000+0000",
      "name" : "Fred Mobile",
      "phoneNumber" : "07902000000",
      "speedDial" : 3
    }, {
      "type" : "phonebookentry",
      "uri" : "https://pbx.sipcentric.com/api/v1/customers/25/phonebook/773",
      "created" : "2014-03-10T13:38:00.000+0000",
      "name" : "Sipcentric",
      "phoneNumber" : "01212854400"
    }
  ],
  "nextPage" : "https://pbx.sipcentric.com/api/v1/customers/me/phonebook?pageSize=2&page=2"
}
```


##### Read phone book entry

`GET /phonebook/{id}`

GETting to a `/phonebook` instance resource will return only the `phonebookentry` with the specified `id`.

```
GET https://pbx.sipcentric.com/api/v1/customers/25/phonebook/773
```


```response
HTTP/1.1 200 OK

{
  "type" : "phonebookentry",
  "uri" : "https://pbx.sipcentric.com/api/v1/customers/25/phonebook/773",
  "created" : "2014-03-10T13:38:00.000+0000",
  "name" : "Sipcentric",
  "phoneNumber" : "01212854400"
}

```


##### Create phone book entry

`POST /phonebook`

To create a new phone book entry, a representation of a `phonebookentry` must be POSTed to the `/phonebook` resource. The newly created `phonebookentry` representation will then be included in the body of the response.

```
POST https://pbx.sipcentric.com/api/v1/customers/25/phonebook

{
  "type" : "phonebookentry",
  "name" : "Fred Mobile",
  "phoneNumber" : "07902000000",
  "speedDial" : 4
}
```

```response
HTTP/1.1 201 Created

{
  "type": "phonebookentry",
  "uri": "http://pbx.sipcentric.com/api/v1/customers/25/phonebook/716",
  "created" : "2014-03-10T13:38:00.000+0000",
  "name": "Fred Mobile",
  "phoneNumber": "07902000000",
  "speedDial": 4
}
```


##### Update phone book entry

`PUT /phonebook/{id}`

To update a `phonebookentry`, a representation of the updated `phonebookentry` must be PUT to that instance resource. The updated `phonebookentry` representation will then be returned in the body of the response.

```
PUT https://pbx.sipcentric.com/api/v1/customers/25/phonebook/716

{
  "type" : "phonebookentry",
  "name" : "Fred Mobile",
  "phoneNumber" : "07825000000",
  "speedDial" : 12
}
```

```response
HTTP/1.1 200 OK

{
  "type": "phonebookentry",
  "uri": "http://pbx.sipcentric.com/api/v1/customers/25/phonebook/716",
  "created" : "2014-03-10T13:38:00.000+0000",
  "name": "Fred Mobile",
  "phoneNumber": "07825000000",
  "speedDial": 12
}
```


##### Delete phone book entry

`DELETE /phonebook/{id}`

To delete a `phonebookentry`, a DELETE request must be made to the instance resource.

```
DELETE https://pbx.sipcentric.com/api/v1/customers/me/phonebook/716
```

```response
HTTP/1.1 204 No Content
```


#### SMS

| Resource Information           |                           |  
| --------------------           | ---                       |  
| Rate Limited?                  | Yes                       |  
| Requests per rate limit window | 1200/hour                 |  
| Authentication                 | Basic Auth                |  
| Payload Type(s)                | json                      |  
| HTTP Method(s)                 | GET, POST                 |  
| Representation(s)              | [smsmessage](#smsmessage) |  

Short Message Service (SMS) is a text messaging service. You can send and receive SMS messages on our platform using the `/sms` resource and `smsmessage` representations.

```
{
  "type" : "smsmessage",
  "uri" : "https://pbx.sipcentric.com/api/v1/customers/me/sms/253368",
  "created" : "2014-03-10T13:37:00.0000+0000",
  "direction" : "out",
  "from" : "07557000000",
  "to" : "07902000000",
  "body" : "Hey, this API is awesome!",
  "sendStatus" : "sent",
  "deliveryStatus" : 1,
  "cost" : 0.1
}
```

| Representation   | Type   | Requirement | Description                                             |  
| --------------   | ----   | ----------- |                                                         |  
| `type`           | String | Required    | Describes the type of resource                          |  
| `uri`            | String | Read Only   | Unique URI for each resource                            |  
| `created`        | String | Read Only   | Time that the resource was created in ISO8601 format    |  
| `direction`      | String | Read Only   | Direction of message (`in`/`out`)                       |  
| `from`           | String | Required    | Name or phone number of sender                          |  
| `to`             | String | Required    | Name or phone number of recipient                       |  
| `body`           | String | Required    | Message body                                            |  
| `sendStatus`     | String | Read Only   | Indicates message send status `pending`/`sent`/`failed` |  
| `deliveryStatus` | Integer | Read Only   | Indicates message delivery status. Can take any of the following values. -> `1` = Delivered to handset ->  `2` = Rejected from handset -> `4` = Buffered in transit (phone probably off / out of reception) ->  `8` = Accepted by SMS carrier ->  `16` = Rejected by SMS carrier</li> |  
| `cost`           | String  | Read Only   | Message cost in GBP (£)                                |

##### List SMS messages

`GET /sms`

GETting to the `/sms` list resource will return a list of each `smsmessage` on the account.

```
GET https://pbx.sipcentric.com/api/v1/customers/me/sms?pageSize=2&page=1
```

```response
HTTP/1.1 200 OK

{
  "totalItems": 188,
  "pageSize": 2,
  "page": 1,
  "items":  [
     {
      "type": "smsmessage",
      "uri": "https://pbx.sipcentric.com/api/v1/customers/me/sms/253368",
      "created" : "2014-03-10T13:37:00.000+0000",
      "direction": "out",
      "from": "01212854400",
      "to": "07902000000",
      "body": "Hey, this API is awesome!",
      "sendStatus": "sent",
      "deliveryStatus": 1,
      "cost": 0.1
    }, {
      "type": "smsmessage",
      "uri": "https://pbx.sipcentric.com/api/v1/customers/me/sms/253369",
      "created" : "2014-03-10T13:38:00.000+0000",
      "direction": "in",
      "from": "07902000000",
      "to": "01212854400",
      "body": "I know, it's great!",
      "cost": 0.0
    } ],
  "nextPage": "https://pbx.sipcentric.com/api/v1/customers/me/sms?pageSize=2&page=2"
}
```
 
##### Get SMS Message

`GET /sms/{smsId}`

GETting to a `/sms` instance resource will return only the`smsmessage` with the specified `id`.

```
GET https://pbx.sipcentric.com/api/v1/customers/me/sms/253368
```

```response
HTTP/1.1 200 OK

{
  "type" : "smsmessage",
  "uri" : "https://pbx.sipcentric.com/api/v1/customers/me/sms/253368",
  "created" : "2014-03-10T13:37:00.0000+0000",
  "direction" : "out",
  "from" : "07557000000",
  "to" : "07902000000",
  "body" : "Hey, this API is awesome!",
  "sendStatus" : "sent",
  "deliveryStatus" : 1,
  "cost" : 0.1
}
```

##### Send SMS

`POST /sms`

To send a new SMS, simply POST a representation of the `smsmessage` to the `/sms` resource. If successful, a representation of the newly created `smsmessage` will be returned in the body of the response.

```
POST https://pbx.sipcentric.com/api/v1/customers/me/sms

{
  "type": "smsmessage",
  "to": "07902000000",
  "from": "07557000000",
  "body": "Hey, this API is awesome!"
}
```

```response
HTTP/1.1 201 Created

{
  "type": "smsmessage",
  "uri": "https://pbx.sipcentric.com/api/v1/customers/me/sms/253368",
  "direction": "out",
  "from": "07557000000",
  "to": "07902000000",
  "body": "Hey, this API is awesome!",
  "sendStatus": "sent",
  "deliveryStatus": 1,
  "cost": 0.1
}
```
 
#### Calls

| Resource Information           |               |  
| --------------------           | ---           |  
| Rate Limited?                  | Yes           |  
| Requests per rate limit window | 1200/hour     |  
| Authentication                 | Basic Auth    |  
| Payload Type(s)                | json          |  
| HTTP Method(s)                 | GET, POST     |  
| Representation                 | [call](#call) |

The `/calls` resource can be used to originate new calls, as well as get the call history of an account.

```
{
  "type": "call",
  "uri": "https://pbx.sipcentric.com/api/v1/customers/me/calls/7592317",
  "created" : "2014-03-10T13:37:00.000+0000",
  "callType": "domain",
  "direction": "IN",
  "from": "07557000000",
  "to": "07902000000",
  "callStarted": "2014-03-10T13:37:00.000+0000",
  "outcome": "no-answer",
  "duration": 0,
  "cost": 0,
  "callId": "ast01-1400142051.1562723",
  "linkedId": "ast01-1400142051.1562723",
  "links": {
    "recordings": "https://pbx.sipcentric.com/api/v1/customers/me/recordings?linkedId=ast01-1400142051.1562723"
  }
}
```

| Representation | Type    | Requirement | Description                                                    |  
| -------------- | ----    | ----------- | -----------                                                    |  
| `type`         | String  | Required    | Describes the type of resource.                                |  
| `uri`          | String  | Read Only   | The unique URI for this resource.                              |  
| `created`      | String  | Read Only   | The time that the resource was created in ISO8601 format.      |  
| `callType`     | String  | Read Only   | Whether the call was internal or not (`domain`/`OUT`).         |  
| `direction`    | String  | Read Only   | Direction of call (`IN`/`OUT`).                                |  
| `from`         | String  | Read Only   | The name or phone number of caller.                            |  
| `to`           | String  | Required    | The name or phone number of recipient.                         |  
| `endpoint`     | String  | Required    | The name or phone number of recipient.                         |  
| `callStarted`  | String  | Read Only   | The time that the call began in ISO8601 format.                |  
| `outcome`      | String  | Read Only   | Whether or not the call was answered (`answered`/`no-answer`). |  
| `duration`     | Integer | Read Only   | The duration of call in seconds.                               |  
| `cost`         | Integer | Read Only   | The cost of call in GBP (£).                                   |  
| `callId`       | String  | Read Only   | A unique ID for each leg of the call.                          |  
| `linkedId`     | String  | Read Only   | The unique ID of the call itself.  This ID is the same across all legs of a single call and can be used to link multiple legs of a call together |  
| `links`        | Array   | Read Only   | Links to associated resources for this representation          |  

##### Get call history

`GET /calls`

| Query String Parameters | Type   | Description                                                                                   |  
| ----------------------- | ----   | -----------                                                                                   |  
| `createdAfter`          | String | Include only records created after the specified date/time (inclusive)                        |  
| `createdBefore`         | String | Include only records created before the specified date/time (inclusive)                       |  
| `startedAfter`          | String | Include only records started after the specified date/time (inclusive)                        |  
| `startedBefore`         | String | Include only records started before the specified date/time (inclusive)                       |  
| `from`                  | String | Include only calls from a specific number. Currently supports exact match only (no wildcards) |  
| `to`                    | String | Include only calls to a specific number. Currently supports exact match only (no wildcards)   |  
| `direction`             | String | Include only calls in a specific direction (in/out)                                           |  
| `includeLocal`          | String | Whether or not to include local calls. Note: only the outbound record is included for local calls, as the inbound record would be an exact replica (true/false) |


The `/calls` resource accepts the above query string parameters. Making a GET request to the `/calls` resource will return all `call` representations in the call history.

```
GET https://pbx.sipcentric.com/api/v1/customers/me/calls?pageSize=2&page=1
```

```response
HTTP/1.1 200 OK

{
  "totalItems": 23686,
  "pageSize": 1,
  "page": 1,
  "items": [
    {
      "type": "call",
      "uri": "https://pbx.sipcentric.com/api/v1/customers/me/calls/7592317",
      "created" : "2014-03-10T13:37:00.000+0000",
      "callType": "domain",
      "direction": "IN",
      "from": "07557000000",
      "to": "07902000000",
      "callStarted": "2014-03-10T13:37:00.000+0000",
      "outcome": "no-answer",
      "duration": 0,
      "cost": 0,
      "callId": "ast01-1400142051.1562723",
      "linkedId": "ast01-1400142051.1562723",
      "links": {
        "recordings": "https://pbx.sipcentric.com/api/v1/customers/me/recordings?linkedId=ast01-1400142051.1562723"
      }
    }, {
      "type": "call",
      "uri": "https://pbx.sipcentric.com/api/v1/customers/me/calls/7592432",
      "created" : "2014-03-10T13:47:00.000+0000",
      "callType": "domain",
      "direction": "OUT",
      "from": "07902000000",
      "to": "07557000000",
      "callStarted": "2014-03-10T13:47:00.000+0000",
      "outcome": "answered",
      "duration": 60,
      "cost": 0.09,
      "callId": "ast01-1401721105.2847099",
      "linkedId": "ast01-1401721105.2847099",
      "links": {
        "recordings": "https://pbx.sipcentric.com/api/v1/customers/me/recordings?linkedId=ast01-1401721105.2847099"
      }
    } ],
  "nextPage": "https://pbx.sipcentric.com/api/v1/customers/me/calls?pageSize=2&page=2"
}
```
 
##### Originate call

`POST /calls`

To originate a new call, a `call`  representation

Example request:

```
POST https://pbx.sipcentric.com/api/v1/customers/me/calls

{
  "type": "call",
  "endpoint": "https://pbx.sipcentric.com/api/v1/customers/me/endpoints/1234",
  "to": "07902000000"
}
```


```
HTTP/1.1 200 OK
```



#### Sounds

| Resource Information           |                                    |  
| --------------------           | ---                                |  
| Rate Limited?                  | Yes                                |  
| Requests per rate limit window | 1200/hour                          |  
| Authentication                 | Basic Auth                         |  
| Payload Type(s)                | json                               |  
| HTTP Method(s)                   | GET, POST, DELETE, PUT             |  
| Representation(s)               | [music](#music), [prompt](#prompt) |  

##### List sounds

`GET /sounds`

| Query String Parameters | Type | Description |
| --- | --- | --- |
| `type` | String | Include only a specific type of sound file (prompt/music) |

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/sounds?pageSize=2&page=1
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "totalItems" : 6,
  "pageSize" : 1,
  "page" : 1,
  "items" : [ {
    "type" : "prompt",
    "uri" : "https://pbx.sipcentric.com/api/v1/customers/me/sounds/1035",
    "created" : "2014-03-10T13:37:00.0000+0000",
    "name" : "thank-you-for-calling",
    "size" : 129612
  }, {
    "type" : "prompt",
    "uri" : "https://pbx.sipcentric.com/api/v1/customers/5/sounds/1046",
    "created" : "2014-03-10T13:37:00.0000+0000",
    "name" : "calls-may-be-recorded",
    "size" : 69426
  } ],
  "nextPage" : "https://pbx.sipcentric.com/api/v1/customers/me/sounds?pageSize=2&page=2"
}
```
 -->
##### Get sound

`GET /sounds/{soundId}`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/sounds/1035
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "type" : "prompt",
  "uri" : "https://pbx.sipcentric.com/api/v1/customers/me/sounds/1035",
  "created" : "2014-03-10T13:37:00.0000+0000",
  "name" : "thank-you-for-calling",
  "size" : 129612
}
```
 -->
#### Recordings

Fetch call recordings

| Resource Information           |                         |  
| --------------------           | ---                     |  
| Rate Limited?                  | Yes                     |  
| Requests per rate limit window | 1200/hour               |  
| Authentication                 | Basic Auth              |  
| Payload Type(s)                | json                    |  
| HTTP Method(s)                  | GET, DELETE             |  
| Representation(s)                | [recording](#recording) |  

##### List recordings

`GET /recordings`

| Query String Parameters | Type | Description |
| --- | --- | --- |
| `createdAfter` | String | Include only records created after the specified date/time (inclusive) |
| `createdBefore` | String | Include only records created before the specified date/time (inclusive) |
| `startedAfter` | String | Include only records started after the specified date/time (inclusive) |
| `startedBefore` | String | Include only records started before the specified date/time (inclusive) |
| `callId` | String | Include only recordings relating to a specific call ID |
| `linkedId` | String | Include only recordings relating to calls with the same linked ID |
| `direction` | String | Include only calls in a specific direction (in/out)
| `includeLocal` | String | Whether or not to include local calls. Note: only the outbound record is included for local calls, as the inbound record would be an exact replica (true/false) |

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/recordings?pageSize=2&page=1
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "totalItems" : 5788,
  "pageSize" : 2,
  "page" : 1,
  "items" : [ 
    {
      "type" : "recording",
      "uri" : "https://pbx.sipcentric.com/api/v1/customers/me/recordings/1358371",
      "created" : "2014-03-10T13:42:00.0000+0000",
      "direction" : "IN",
      "partyId" : "106",
      "started" : "2014-03-10T13:37:00.0000+0000",
      "size" : 9615,
      "callId" : "ast01-1400082083.1542464",
      "linkedId" : "ast01-1400082083.1542464",
      "endpoint" : "https://pbx.sipcentric.com/api/v1/customers/me/endpoints/2535"
    }, {
      "type" : "recording",
      "uri" : "https://pbx.sipcentric.com/api/v1/customers/me/recordings/1358372",
      "created" : "2014-03-10T14:09:00.0000+0000",
      "direction" : "OUT",
      "partyId" : "07557000000",
      "started" : "2014-03-10T14:07:00.0000+0000",
      "size" : 97365,
      "callId" : "ast01-1401721105.2847099",
      "linkedId" : "ast01-1401721105.2847099",
      "endpoint" : "https://pbx.sipcentric.com/api/v1/customers/me/endpoints/1928"
    } ,
  ],
  "nextPage" : "https://pbx.sipcentric.com/api/v1/customers/me/recordings?pageSize=2&page=2"
}
```
 -->

##### Get recording

`GET /recordings`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/recordings/{recordingId}
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "type": "recording",
  "uri": "https://pbx.sipcentric.com/api/v1/customers/me/recordings/1358371",
  "created" : "2014-03-10T13:37:00.000+0000",
  "direction": "IN",
  "partyId": "106",
  "started": "2014-05-14T15:41:25.000+0000",
  "size": 9615,
  "callId": "ast01-1400082083.1542464",
  "linkedId": "ast01-1400082083.1542464",
  "endpoint": "https://pbx.sipcentric.com/api/v1/customers/me/endpoints/2535"
}
```
 -->
#### Timeintervals

View time intervals on your account.

| Resource Information           |                           |  
| --------------------           | ---                       |  
| Rate Limited?                  | Yes                       |  
| Requests per rate limit window | 1200/hour                 |  
| Authentication                 | Basic Auth                |  
| Payload Type(s)                | json                      |  
| HTTP Method(s)                   | GET, POST, DELETE, PUT    |  
| Representation(s)                | [timeinterval](#timeinterval) |

##### List time intervals

`GET /timeintervals`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/timeintervals?pageSize=2&page=1
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "totalItems" : 25,
  "pageSize" : 2,
  "page" : 1,
  "items" : [ {
    "type" : "timeinterval",
    "uri" : "https://pbx.sipcentric.com/api/v1/customers/me/timeintervals/31",
    "created" : "2014-03-10T13:37:00.000+0000",
    "name" : "Christmas",
    "repeat" : "YEARLY",
    "data" : [ {
      "startTime" : "00:00",
      "endTime" : "23:59",
      "includeDays" : "MON-SUN",
      "dayOfMonth" : 25,
      "month" : "DEC"
    } ]
  }, {
    "type" : "timeinterval",
    "uri" : "https://pbx.sipcentric.com/api/v1/customers/me/timeintervals/32",
    "created" : "2014-03-10T13:37:00.000+0000",
    "name" : "Support Out of Hours",
    "repeat" : "WEEKLY",
    "data" : [ {
      "startTime" : "17:00",
      "endTime" : "23:59",
      "includeDays" : "MON-FRI"
    }, {
      "startTime" : "00:00",
      "endTime" : "23:59",
      "includeDays" : "SAT-SUN"
    }, {
      "startTime" : "00:00",
      "endTime" : "07:59",
      "includeDays" : "MON-FRI"
    } ]
  } ]
}
```
 -->
##### Get time interval

`GET /timeintervals/{timeIntervalId}`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/timeintervals/31
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "type": "timeinterval",
  "uri": "https://pbx.sipcentric.com/api/v1/customers/me/timeintervals/31",
  "created" : "2014-03-10T13:37:00.000+0000",
  "name": "Always",
  "repeat": "WEEKLY",
  "data":  [
     {
      "startTime": "00:00",
      "endTime": "23:59",
      "includeDays": "MON-SUN"
    }
  ]
}
```
 -->

#### Endpoints

View endpoints on your account.

| Resource Information           |                                                                                                          |  
| --------------------           | ---                                                                                                      |  
| Rate Limited?                  | Yes                                                                                                      |  
| Requests per rate limit window | 1200/hour                                                                                                |  
| Authentication                 | Basic Auth                                                                                               |  
| Payload Type(s)                | json                                                                                                     |  
| HTTP Method(s)                   | GET, POST, DELETE, PUT                                                                                   |  
| Representation(s)                | [phone](#phone), [virtual](#virtual), [ivr](#ivr), [queue](#queue), [group](#group), [mailbox](#mailbox) |  

##### List endpoints

`GET /endpoints`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/endpoints?pageSize=2&page=1
```

| Response Properties | Type | Description |
| ------------------- | ---- | ----------- |
| `created` | String | Time that the resource was created in ISO8601 format |
| `shortNumber` | String | 3 digit short number identifier for endpoint |
| `name` | String | Endpoint name |
| `timeout` | Integer | Endpoint ring timeout |

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "totalItems": 25,
  "pageSize": 1,
  "page": 1,
  "items":  [
     {
      "type": "ivr",
      "uri": "https://pbx.sipcentric.com/api/v1/customers/me/endpoints/101",
      "created" : "2014-03-10T13:37:00.000+0000",
      "shortNumber": "001",
      "name": "Main IVR",
      "timeout": 4
    },
    {
      "type": "ivr",
      "uri": "https://pbx.sipcentric.com/api/v1/customers/me/endpoints/102",
      "created" : "2014-03-10T13:37:00.000+0000",
      "shortNumber": "002",
      "name": "Out of Hours IVR",
      "timeout": 4
    }
  ],
  "nextPage": "https://pbx.sipcentric.com/api/v1/customers/me/endpoints?pageSize=1&page=2"
}
```
 -->
##### Get endpoint

`GET /endpoint/{endpointID}`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/endpoints/101
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "type": "ivr",
  "uri": "https://pbx.sipcentric.com/api/v1/customers/me/endpoints/101",
  "created" : "2014-03-10T13:37:00.000+0000",
  "shortNumber": "001",
  "name": "Main IVR",
  "timeout": 0
}
```
 -->
#### Phone Numbers

View phone numbers on your account.

| Resource Information           |                        |  
| --------------------           | ---                    |  
| Rate Limited?                  | Yes                    |  
| Requests per rate limit window | 1200/hour              |  
| Authentication                 | Basic Auth             |  
| Payload Type(s)                | json                   |  
| HTTP Method(s)                   | GET, POST, DELETE, PUT |  
| Response Object                | [did](#did)    |  


##### List phone numbers

`GET /phonenumbers`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/phonenumbers?pageSize=2&page=1
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "totalItems" : 15,
  "pageSize" : 2,
  "page" : 1,
  "items" : [ {
    "type" : "did",
    "uri" : "https://pbx.sipcentric.com/api/v1/customers/me/phonenumbers/47",
    "created" : "2014-03-10T13:37:00.000+0000",
    "number" : "07557000000",
    "identifier" : "DID",
    "smsEnabled" : true,
    "smsAllowIncoming" : true,
    "smsNotificationEmail" : "contact@fredbloggs.com",
    "smsNotificationUrl" : "https://www.fredbloggs.com",
    "faxEnabled" : false
  }, {
    "type" : "did",
    "uri" : "https://pbx.sipcentric.com/api/v1/customers/me/phonenumbers/50",
    "created" : "2014-03-10T13:37:00.000+0000",
    "number" : "01212854400",
    "identifier" : "",
    "destination" : "https://pbx.sipcentric.com/api/v1/customers/5/endpoints/101",
    "smsEnabled" : true,
    "smsAllowIncoming" : true,
    "smsNotificationEmail" : "support@sipcentric.com",
    "faxEnabled" : false,
    "routingRules" : [ {
      "timeInterval" : "https://pbx.sipcentric.com/api/v1/customers/5/timeintervals/594",
      "destination" : "https://pbx.sipcentric.com/api/v1/customers/5/endpoints/102"
    }, {
      "timeInterval" : "https://pbx.sipcentric.com/api/v1/customers/5/timeintervals/625",
      "destination" : "https://pbx.sipcentric.com/api/v1/customers/5/endpoints/102"
    }, {
      "timeInterval" : "https://pbx.sipcentric.com/api/v1/customers/5/timeintervals/704",
      "destination" : "https://pbx.sipcentric.com/api/v1/customers/5/endpoints/102"
    } ]
  } ],
  "nextPage" : "https://pbx.sipcentric.com/api/v1/customers/me/phonenumbers?pageSize=2&page=2"
}
```
 -->
##### Get phone number

`GET /phonenumbers/{numberId}`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/phonenumbers/47
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "type": "did",
  "uri": "https://pbx.sipcentric.com/api/v1/customers/me/phonenumbers/47",
  "created" : "2014-03-10T13:37:00.000+0000",
  "number": "01212854747",
  "identifier": "DID",
  "destination": "https://pbx.sipcentric.com/api/v1/customers/me/endpoints/94",
  "smsEnabled": true
}
```
 -->
#### Outgoing Caller IDs

View outgoing caller ids on your account.

| Resource Information           |                                       |  
| --------------------           | ---                                   |  
| Rate Limited?                  | Yes                                   |  
| Requests per rate limit window | 1200/hour                             |  
| Authentication                 | Basic Auth                            |  
| Payload Type(s)                | json                                  |  
| HTTP Method(s)                   | GET, POST, DELETE, PUT                |  
| Representation(s)                | [outgoingcallerid](#outgoingcallerid) |  

##### List outgoing caller ids

`GET /outgoingcallerids`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/outgoingcallerids?pageSize=2&page=1
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "totalItems": 1,
  "pageSize": 1,
  "page": 1,
  "items":  [
     {
      "type": "outgoingcallerid",
      "uri": "https://pbx.sipcentric.com/api/v1/customers/me/outgoingcallerids/114",
      "created" : "2014-03-10T13:37:00.000+0000",
      "number": "Sipcentric",
      "allowCalls": false,
      "allowSms": true
    },
    {
      "type": "outgoingcallerid",
      "uri": "https://pbx.sipcentric.com/api/v1/customers/me/outgoingcallerids/115",
      "created" : "2014-03-10T13:37:00.000+0000",
      "number": "01212854400",
      "allowCalls": false,
      "allowSms": true
    }
  ],
  "nextPage" : "https://pbx.sipcentric.com/api/v1/customers/me/outgoingcallerid?pageSize=2&page=2"
}
```
 -->
##### Get outgoing caller id

`GET /outgoingcallerid/{numberId}`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/outgoingcallerid/115
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "type": "outgoingcallerid",
  "uri": "https://pbx.sipcentric.com/api/v1/customers/me/outgoingcallerids/115",
  "created" : "2014-03-10T13:37:00.000+0000",
  "number": "01212854400",
  "allowCalls": false,
  "allowSms": true
}
```
 -->

#### Credit Status

View customers and remaining calling credit.

| Resource Information           |                               |  
| --------------------           | ---                           |  
| Rate Limited?                  | Yes                           |  
| Requests per rate limit window | 1200/hour                     |  
| Authentication                 | Basic Auth                    |  
| Payload Type(s)                | json                          |  
| HTTP Method(s)                   | GET, POST, DELETE, PUT        |  
| Response Object                | [creditstatus](#creditstatus) |  

##### Get credit status

`GET /creditstatus`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/customers/me/creditstatus
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "type": "creditstatus",
  "uri": "https://pbx.sipcentric.com/api/v1/customers/me/creditstatus",
  "accountType": "postpaid",
  "creditRemaining": 191.571
}
```
 -->
#### Call Bundles

View call bundles on your account.

| Resource Information           |                        |  
| --------------------           | ---                    |  
| Rate Limited?                  | Yes                    |  
| Requests per rate limit window | 1200/hour              |  
| Authentication                 | Basic Auth             |  
| Payload Type(s)                | json                   |  
| HTTP Method(s)                   | GET, POST, DELETE, PUT |  
| Representation(s)                | [customerbundle](#customerbundle)    |  

##### List call bundles

`GET /callbundles`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/callbundles?pageSize=1&page=1
```

<!-- Example response:

```
HTTP/1.1 200 OK

{
  "totalItems": 20,
  "pageSize": 1,
  "page": 1,
  "items":  [
     {
      type: "customerbundle",
      uri: "https://pbx.sipcentric.com/api/v1/customers/me/callbundles/1040",
      created: "2014-03-01T00:00:00.000+0000",
      name: "1000 Mins - Local/National (Free)",
      inclusiveMins: 1000,
      priceMonthly: 5,
      validFrom: "2014-03-01T00:00:00.000+0000",
      validTo: "2014-03-31T23:59:59.999+0000",
      usedMins: 57,
      availableMins: 943,
      autoRenew: true,
      status: "ACTIVE"
    }
  ]
}
```
 -->
##### Get call bundle

`GET /callbundles/{numberId}`

Example request:

```
GET https://pbx.sipcentric.com/api/v1/callbundles/1040
```


<!-- Example response:

```
HTTP/1.1 200 OK

{
  "type": "customerbundle",
  "uri": "https://pbx.sipcentric.com/api/v1/customers/me/callbundles/1040",
  "created": "2014-03-01T00:00:00.000+0000",
  "name": "1000 Mins - Local/National (Free)",
  "inclusiveMins": 1000,
  "priceMonthly": 5,
  "validFrom": "2014-03-01T00:00:00.000+0000",
  "validTo": "2014-03-31T23:59:59.999+0000",
  "usedMins": 57,
  "availableMins": 943,
  "autoRenew": true,
  "status": "ACTIVE"
}
```
 -->


## Global Resources

#### Token Generator

In some situations it's not possible to use basic authentication in a GET request, such as downloading a call recording in a client's browser.

To solve this issue we have added a token generator for pre authenticating these requests. This will return a single-use token for accessing any readonly resources 
you would normally have to authenticate for.

##### Get token

```
GET https://pbx.sipcentric.com/api/v1/tokengenerator

{
  "type": "authtoken",
  "id": "318f9a6d-162e-4d46-89d2-3d7cb2f4db16",
  "created": "2014-07-11T15:11:12.477+0000",
  "expires": "2014-07-11T16:11:12.477+0000"
}
```

You can now use this token to get a call recording using the `tokenid` parameter in the GET request:

`https://pbx.sipcentric.com/api/v1/customers/me/recordings/242348.wav?tokenid=318f9a6d-162e-4d46-89d2-3d7cb2f4db16`

Anyone that tried to use the request again will get a 401 Unauthorized. This prevents replay attacks from getting any data.

#### Stream

You can create a standing HTTP connection to our API for live streaming data. This means you can process events in near real time, without having to poll other resources and potentially hit request limits. Currently the following is available via the streaming API:

- Incoming call notifications
- Received SMS messages

Data is returned as JSON objects.

Example:

```
{NEEDS_EXAMPLE}
```

## Representations

#### phonebookentry

The `phonebookentry` object represents entries in the shared company phonebook, each entry in which can be accessed using it's unique URI. Every entry is then assigned a name, a phone number, and an optional speed dial number (up to 4 digits).

| Representation | Type    | Requirement | Description                                            |  
| -------------- | ----    | ----------- | -----------                                            |  
| `type`         | String  | Required    | Describes the type of resource                         |  
| `uri`          | String  | Read Only   | Unique URI for each resource                           |  
| `created`      | String  | Read Only   | Time that the resource was created in ISO8601 format   |  
| `name`         | String  | Required    | Name of phonebook entry                                |  
| `phoneNumber`  | String  | Required    | Phone number of phonebook entry                        |  
| `speedDial`    | Integer | Optional    | Up to four digit speed-dial number for phonebook entry |  

***

#### smsmessage

The `smsmessage` object represents a single SMS message, which can each be accessed using the unique URI provided. 

| Representation   | Type   | Requirement | Description                                             |  
| --------------   | ----   | ----------- |                                                         |  
| `type`           | String | Required    | Describes the type of resource                          |  
| `uri`            | String | Read Only   | Unique URI for each resource                            |  
| `created`        | String | Read Only   | Time that the resource was created in ISO8601 format    |  
| `direction`      | String | Read Only   | Direction of message (`in`/`out`)                       |  
| `from`           | String | Required    | Name or phone number of sender                          |  
| `to`             | String | Required    | Name or phone number of recipient                       |  
| `body`           | String | Required    | Message body                                            |  
| `sendStatus`     | String | Read Only   | Indicates message send status `pending`/`sent`/`failed` |  
| `deliveryStatus` | Integer | Read Only   | Indicates message delivery status. Can take any of the following values. -> `1` = Delivered to handset ->  `2` = Rejected from handset -> `4` = Buffered in transit (phone probably off / out of reception) ->  `8` = Accepted by SMS carrier ->  `16` = Rejected by SMS carrier</li> |  
| `cost`           | String  | Read Only   | Message cost in GBP (£)                                |  

***

#### call

| Representation | Type    | Requirement | Description                                                    |  
| -------------- | ----    | ----------- | -----------                                                    |  
| `type`         | String  | Required    | Describes the type of resource.                                |  
| `uri`          | String  | Read Only   | The unique URI for this resource.                              |  
| `created`      | String  | Read Only   | The time that the resource was created in ISO8601 format.      |  
| `callType`     | String  | Read Only   | Whether the call was internal or not (`domain`/`OUT`).         |  
| `direction`    | String  | Read Only   | Direction of call (`IN`/`OUT`).                                |  
| `from`         | String  | Read Only   | The name or phone number of caller.                            |  
| `to`           | String  | Required    | The name or phone number of recipient.                         |  
| `endpoint`     | String  | Required    | The name or phone number of recipient.                         |  
| `callStarted`  | String  | Read Only   | The time that the call began in ISO8601 format.                |  
| `outcome`      | String  | Read Only   | Whether or not the call was answered (`answered`/`no-answer`). |  
| `duration`     | Integer | Read Only   | The duration of call in seconds.                               |  
| `cost`         | Integer | Read Only   | The cost of call in GBP (£).                                   |  
| `callId`       | String  | Read Only   | A unique ID for each leg of the call.                          |  
| `linkedId`     | String  | Read Only   | The unique ID of the call itself.  This ID is the same across all legs of a single call and can be used to link multiple legs of a call together |  
| `links`        | Array   | Read Only   | Links to associated resources for this representation          |  


#### prompt

| Representation | Type    | Requirement | Description                                               |  
| -------------- | ----    | ----------- | -----------                                               |  
| `type`         | String  | Read Only   | Describes the type of resource.                           |  
| `uri`          | String  | Read Only   | The unique URI for this resource.                         |  
| `created`      | String  | Read Only   | The time that the resource was created in ISO8601 format. |  
| `name`         | String  | Read Only   | Name assigned to the prompt.                              |  
| `size`         | Integer | Read Only   | Size of the file in bytes.                                |  


#### recording

| Representation | Type    | Requirement | Description                                               |  
| -------------- | ----    | ----------- | -----------                                               |  
| `type`         | String  | Read Only   | Describes the type of resource.                           |  
| `uri`          | String  | Read Only   | The unique URI for this resource.                         |  
| `created`      | String  | Read Only   | The time that the resource was created in ISO8601 format. |  
| `direction`    | String  | Read Only   | Direction of call (`IN`/`OUT`).                           |  
| `partyId`      | String  | Read Only   | Username or phone number of the recorded party            |  
| `started`      | String  | Read Only   | The time that the recorded call began in ISO8601 format.  |  
| `size`         | Integer | Read Only   | Size of the file in bytes.                                |  
| `callId`       | String  | Read Only   | A unique ID for each leg of the call.                     |  
| `linkedId`     | String  | Read Only   | The unique ID of the call itself.  This ID is the same across all legs of a single call and can be used to link multiple legs of a call together. |  
| `endpoint`     | String  | Read Only   | URI to the endpoint of the [???]                          |  


#### music

| Representation | Type    | Requirement | Description                                               |  
| -------------- | ----    | ----------- | -----------                                               |  
| `type`         | String  | Read Only   | Describes the type of resource.                           |  
| `uri`          | String  | Read Only   | The unique URI for this resource.                         |  
| `created`      | String  | Read Only   | The time that the resource was created in ISO8601 format. |  
| `name`         | String  | Read Only   | Name assigned to the music.                               |  
| `size`         | Integer | Read Only   | Size of the file in bytes.                                |  
| `enabled`      | Boolean | Read Only   | Whether or not the music is enabled and will play         |  


#### timeinterval

| Representation  | Type   | Requirement | Description                                                    |  
| --------------  | ----   | ----------- | -----------                                                    |  
| `type`          | String | Read Only   | Describes the type of resource - `timeinterval`.               |  
| `uri`           | String | Read Only   | The unique URI for this time interval.                         |  
| `created`       | String | Read Only   | The time that the time interval was created in ISO8601 format. |  
| `name`          | String | Read Only   | Name assigned to the time interval.                            |  
| `repeat`        | String | Read Only   | When the time interval repeats (`WEEKLY`/`YEARLY`).            |  
| `includedTimes` | Array  | Read Only   | See `includedTimes` table below for further information on each parameter. --> `{` -> `"startTime" : "00:00",` -> `"endTime" : "23:59",` -> `"includeDays" : "MON-SUN",` -> `"dayOfMonth" : 25,` -> `"month" : "DEC"` -> `}` | 


| `includedTimes` Array | Type    | Requirement | Description                                                                         |  
| --------------------- | ----    | ----------- | -----------                                                                         |  
| `dayOfWeek`           | String  | Read Only   | Days of week time interval is active (`MON`,`TUE`,`WED`,`THU`,`FRI`,`SAT`,`SUN`).   |  
| `startTime`           | String  | Read Only   | Time interval start time (hh:mm format).                                            |  
| `endTime`             | String  | Read Only   | Time interval end time (hh:mm format).                                              |  
| `month`               | Integer | Read Only   | Numerical day of month time interval is active. Only valid when repeat is `YEARLY`. |  
| `dayofMonth`          | String  | Read Only   | Month time interval is active. Only valid when repeat is `YEARLY`.                  |  


#### phone

| Representation     | Type    | Requirement | Description                                                    |  
| --------------     | ----    | ----------- | -----------                                                    |  
| `type`             | String  | Read Only   | Describes the type of resource (`phone`).                      |  
| `uri`              | String  | Read Only   | The unique URI for this extension.                             |  
| `created`          | String  | Read Only   | The time that the extension was created in ISO8601 format.     |  
| `shortNumber`      | String  | Read Only   | 3 digit short number identifier for this extension.            |  
| `name`             | String  | Read Only   | Name assigned to the extension.                                |  
| `email`            | String  | Read Only   | Email address to send voicemails to.                           |  
| `timeout`          | Integer | Read Only   | Ring timeout for this extension.                               |  
| `callWaiting`      | Boolean | Read Only   | Whether or not call waiting is enabled.                        |  
| `callRecording`    | String  | Read Only   | Whether call recordings are enabled `ALWAYS`/`OFF`/`ON_DEMAND` |  
| `voicemailEnabled` | Boolean | Read Only   | Whether or not voicemail is enabled.                           |  


#### queue

| Representation | Type    | Requirement | Description                                               |  
| -------------- | ----    | ----------- | -----------                                               |  
| `type`         | String  | Read Only   | Describes the type of resource (`queue`).                 |  
| `uri`          | String  | Read Only   | The unique URI for this queue.                            |  
| `created`      | String  | Read Only   | The time that the queue was created in ISO8601 format.    |  
| `shortNumber`  | String  | Read Only   | 3 digit short number identifier for this queue.           |  
| `name`         | String  | Read Only   | Name assigned to the queue.                               |  
| `maxWait`      | Integer | Read Only   | The maximum amount of time a caller can wait in the queue |  


#### ivr

| Representation | Type    | Requirement | Description                                          |  
| -------------- | ----    | ----------- | -----------                                          |  
| `type`         | String  | Read Only   | Describes the type of resource (`ivr`).              |  
| `uri`          | String  | Read Only   | The unique URI for this IVR.                         |  
| `created`      | String  | Read Only   | The time that the IVR was created in ISO8601 format. |  
| `shortNumber`  | String  | Read Only   | 3 digit short number identifier for this IVR.        |  
| `name`         | String  | Read Only   | Name assigned to the IVR.                            |  
| `timeout`      | Integer | Read Only   | Ring timeout for this IVR.                           |  


#### virtual

| Representation     | Type    | Requirement | Description                                                        |  
| --------------     | ----    | ----------- | -----------                                                        |  
| `type`             | String  | Read Only   | Describes the type of resource (`virtual`).                        |  
| `uri`              | String  | Read Only   | The unique URI for this virtual extension.                         |  
| `created`          | String  | Read Only   | The time that the virtual extension was created in ISO8601 format. |  
| `shortNumber`      | String  | Read Only   | 3 digit short number identifier for this virtual extension.        |  
| `name`             | String  | Read Only   | Name assigned to the virtual extension.                            |  
| `timeout`          | Integer | Read Only   | Ring timeout for this virtual extension.                           |  
| `destination`      | String  | Read Only   | Number to route calls to.                                          |  
| `screeningEnabled` | Boolean | Read Only   | Whether or not call screening is enabled.                          |  


#### mailbox

| Representation | Type   | Requirement | Description                                                 |  
| -------------- | ----   | ----------- | -----------                                                 |  
| `type`         | String | Read Only   | Describes the type of resource (`mailbox`).                 |  
| `uri`          | String | Read Only   | The unique URI for this mailbox.                            |  
| `created`      | String | Read Only   | The time that the mailbox was created in ISO8601 format.    |  
| `shortNumber`  | String | Read Only   | 3 digit short number identifier for this mailbox.           |  
| `name`         | String | Read Only   | Name assigned to the mailbox.                               |  
| `email`        | String | Read Only   | Email address to send messages recorded in this mailbox to. |  


#### group

| Representation        | Type    | Requirement | Description                                            |  
| ------------          | ----    | ----------- | -----------                                            |  
| `type`                | String  | Read Only   | Describes the type of resource (`group`).              |  
| `uri`                 | String  | Read Only   | The unique URI for this group.                         |  
| `created`             | String  | Read Only   | The time that the group was created in ISO8601 format. |  
| `shortNumber`         | String  | Read Only   | 3 digit short number identifier for this group.        |  
| `name`                | String  | Read Only   | Name assigned to the group.                            |  
| `memberTimeout`       | Integer | Read Only   | Ring timeout for each member of the group.             |  
| `cascadeDelay`        | Integer | Read Only   | Delay between ringing each member of the group.        |  
| `failoverDestination` | String  | Read Only   | URI of endpoint to route calls to on timeout.          |  


#### did

| Representation         | Type    | Requirement | Description                                                                  |  
| --------------         | ----    | ----------- | -----------                                                                  |  
| `type`                 | String  | Read Only   | Describes the type of resource (`did`).                                      |  
| `uri`                  | String  | Read Only   | The unique URI for this number.                                              |  
| `created`              | String  | Read Only   | The time that the number was created in ISO8601 format.                      |  
| `number`               | String  | Read Only   | The public number for this did.                                              |  
| `identifier`           | String  | Read Only   | The caller id that will be displayed for this number, blank for 'anonymous'. |  
| `destination`          | String  | Read Only   | The destination that this number will route calls to.                        |  
| `smsEnabled`           | Boolean | Read Only   | Whether sms messages can be sent from this number.                           |  
| `smsAllowIncoming`     | Boolean | Read Only   | Whether sms messages can be sent to this number.                             |  
| `smsNotificationEmail` | String  | Read Only   | The email address to send incoming sms notifications to.                     |  
| `faxEnabled`           | Boolean | Read Only   | Whether this number can receive faxes                                        |  
| `routingRules`         | Array   | Read Only   | Routing rules that apply to this number.                                     |  

| `routingRules` Array | Type   | Requirement | Description                                                 |  
| -------------------- | ----   | ----------- | -----------                                                 |  
| `timeInterval`       | String | Read Only   | URI of active `timeInterval` on number                      |  
| `destination`        | String | Read Only   | URI of `endpoint` that the active time intervals forward to |  


#### creditstatus

| Representation    | Type   | Requirement | Description                                              |  
| --------------    | ----   | ----------- | -----------                                              |  
| `type`            | String | Read Only   | Describes the type of resource (`creditstatus`).         |  
| `uri`             | String | Read Only   | The unique URI for this representation of credit status. |  
| `accountType`     | String | Read Only   | The type of account (`prepaid`/`postpaid`).              |  
| `creditRemaining` | Float  | Read Only   | Name or number of outgoing caller id.                    |  


#### outgoingcallerid

| Representation | Type    | Requirement | Description                                                         |  
| ------------   | ----    | ----------- | -----------                                                         |  
| `type`         | String  | Read Only   | Describes the type of resource (`outgoingcallerid`).                |  
| `uri`          | String  | Read Only   | The unique URI for this outgoing caller id.                         |  
| `created`      | String  | Read Only   | The time that the outgoing caller id was created in ISO8601 format. |  
| `number`       | String  | Read Only   | Name or number of outgoing caller id.                               |  
| `allowCalls`   | Boolean | Read Only   | Whether calls can be made to this number.                           |  
| `allowSms`     | Boolean | Read Only   | Whether sms messages can be sent to this number.                    |  

#### customerbundle

| Representation  | Type    | Requirement | Description                                             |  
| --------------  | ----    | ----------- | -----------                                             |  
| `type`          | String  | Read Only   | Des Describes the type of resource (`customerbundle`).  |  
| `uri`           | String  | Read Only   | The unique URI for this bundle.                         |  
| `created`       | String  | Read Only   | The time that the bundle was created in ISO8601 format. |  
| `name`          | String  | Read Only   | Bundle name.                                            |  
| `inclusiveMins` | Integer | Read Only   | Total number of minutes in the bundle.                  |  
| `priceMonthly`  | Integer | Read Only   | Monthly cost in GBP (£).                                |  
| `validFrom`     | String  | Read Only   | Bundle start time in ISO8601 format.                    |  
| `validTo`       | String  | Read Only   | Bundle expiry time in ISO8601 format                    |  
| `usedMins`      | Integer | Read Only   | Bundle minutes remaining.                               |  
| `availableMins` | Integer | Read Only   | Bundle minutes used.                                    |  
| `autoRenew`     | Boolean | Read Only   | Whether the bundle set to automatically renew.          |  
| `status`        | String  | Read Only   | Returns either "ACTIVE" or "EXPIRED".                   |  


## Quick Reference

Version 1 of the API is accessible via https://pbx.sipcentric.com/api/v1

#### Customers

| URL               | Method | Functionality                                                    |  
| ---               | ------ | -------------                                                    |  
| `/customers`      | GET    | Retrieve information of all customers on account                 |  
| `/customers/{id}` | GET    | Retrieve a specific customer's information & available resources |  


#### Objects

| URL                             | Method | Functionality                    |  
| ---                             | ------ | -------------                    |  
| `/customers/me/{resource}`      | GET    | Retrieve all objects in resource |  
| `/customers/me/{resource}/{id}` | GET    | Retrieve a specific object       |  
| `/customers/me/{resource}`      | POST   | Create a new object in resource  |  
| `/customers/me/{resource}/{id}` | DELETE | Delete an object                 |  
| `/customers/me/{resource}/{id}` | PUT    | Update an object                 |  